<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Redirecting...</title>
        <script type="text/javascript">
            // List of paths that are valid in your React Router setup
            const pathlocation = window.location;
            const pathname = pathlocation.pathname;
            const myRepoName = pathname.substring(0, pathname.lastIndexOf('/'));
            const validRoutes = [
                '/home',
                '/destination',
                '/crew',
                '/technology',
              // Add more paths here
            ];

            // Get the current path and the search/query parameters
            const currentRoute = pathname.substring(pathname.lastIndexOf('/'));
            const searchParams = new URLSearchParams(pathlocation.search);
            
            // Check if the redirection has already been attempted
            if (!searchParams.has('redirected')) {
                // Check if the current path is valid
                if (validPaths.includes(currentPath)) {
                    // Add a query parameter to indicate that a redirection has occurred
                    searchParams.set('redirected', 'true');
                    const newUrl = `${myRepoName}${currentRoute}?${searchParams.toString()}`;
                    window.location.replace(newUrl);
                } else {
                    // Redirect to a custom error page
                    window.location.replace(`${myRepoName}/error`);
                }
            };
        </script>
    </head>
    <body></body>
</html>